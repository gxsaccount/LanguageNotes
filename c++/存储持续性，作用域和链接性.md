## 1.内存相关知识 ##  
在C++中，内存分成5个区，他们分别是堆、栈、自由存储区、全局/静态存储区和常量存储区  
1.栈，就是那些由编译器在需要的时候分配，在不需要的时候自动清楚的变量的存储区。里面的变量通常是局部变量、函数参数等。  
2.堆，就是那些由new分配的内存块，他们的释放编译器不去管，由我们的应用程序去控制，一般一个new就要对应一个delete。如果程序员没有释放掉，那么在程序结束后，操作系统会自动回收。  
3.自由存储区，就是那些由malloc等分配的内存块，他和堆是十分相似的，不过它是用free来结束自己的生命的。  
4.全局/静态存储区，全局变量和静态变量被分配到同一块内存中，在以前的C语言中，全局变量又分为初始化的和未初始化的，在C++里面没有这个区分了，他们共同占用同一块内存区。  
5.常量存储区，这是一块比较特殊的存储区，他们里面存放的是常量，不允许修改（当然，你要通过非正当手段也可以修改）  

C++使用三种(C++11是四种)不同的方案来存储数据，这些方案的区别在于数据保留在内存中的时间。  
**自动存储持续性**：  
在函数定义中声明的变量(包括函数参数)的存储持续性为自动。它们在程序开始执行其所属的函数或代码块时被创建，在执行完函数或代码块时，它们使用的内存被释放。C++有两种存储持续性为自动的变量。  
**静态存储持续性**：在函数定义外定义的变量和使用关键字static定义的变量的存储持续性都为静态。它们在程序整个运行过程中都存在。C++为静态存储持续性变量提供了3种链接性：外部链接性(可在其他文件中访问)，内部链接性(只能在当前文件中访问)和无链接性(只能在当前函数或代码块中访问)。  
**线程存储持续性(C++11)**：  
当前，多核处理器很常见，这些CPU可同时处理执行多个任务，这让程序能够将计算放在可并行处理的不同线程中。如果变量使用关键字thread_local声明的，则其生命周期与所属的线程一样长。  
**动态存储持续性**：  
用new运算符分配的内存将一直存在，直到使用delete运算符将其释放或程序结束为止。这种内存的存储持续性为动态，有时被称为自由存储(free store)或堆(heap)。

## 2.作用域和链接 ##    
**链接性**描述了名称如何在不同单元间共享。  
链接性为外部的名称可在文件间共享，链接性为内部的名称只能由一个文件中的函数共享。  
自动变量的名称没有链接性，因为他们不能共享。  
**作用域**描述了名称在文件的多大范围内可见。  
作用域为局部的变量只在定义它的代码块中可用。  
作用域为全局的变量在定义位置到文件结尾之间都可以用。  
自动变量的作用域为局部，静态变量的作用域是全局还是局部取决于它是如何被定义的。  
在函数原型作用域中使用的名称只在包含参数列表的括号内可用。  
在类中声明的成员作用域为整个类。  
在命名空间中声明的变量的作用域为整个命名空间。  
C++函数的作用域可以是整个类或整个命名空间，但不能是局部的(因为不能在代码块中定义函数)。    

## 3.自动变量 ##   
函数中声明的变量将被放到栈中。  
register修饰的寄存器变量被放到寄存器，寄存器中访问比堆栈块（如循环的次数）。但是变量会没有内存地址，不能用于取地址符号。  


## 4.静态持续变量 ##   
-未初始化的静态变量所有位是0。  
-只能使用常量表达式来初始化静态变量。  

| 存储描述 | 持续性 | 作用域 | 链接性 | 如何声明 |
| ------ | ------ | ------ | ------ | ------ |
| 自动 | 自动 | 代码块 | 无 | 在代码块中(可使用关键字auto) |
| 寄存器 | 自动 | 代码块 | 无 | 在代码块中使用register |
| 静态，无链接性 | 静态 | 代码块 | 无 | 在代码块中使用关键字static |
| 静态，外部链接性 | 静态 | 文件 | 外部 | 在函数外面 |
| 静态，内部链接性 | 静态 | 文件 | 内部 | 在函数外面，使用关键字static |
